EESchema Schematic File Version 4
LIBS:SingleBMS-cache
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 5
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L Regulator_Linear:LM7805_TO220 U?
U 1 1 5DCF06EA
P 7900 5700
F 0 "U?" H 7900 5942 50  0000 C CNN
F 1 "LM7805_TO220" H 7900 5851 50  0000 C CNN
F 2 "Package_TO_SOT_THT:TO-220-3_Vertical" H 7900 5925 50  0001 C CIN
F 3 "http://www.fairchildsemi.com/ds/LM/LM7805.pdf" H 7900 5650 50  0001 C CNN
	1    7900 5700
	1    0    0    -1  
$EndComp
Text Label 8250 5700 0    50   ~ 0
Vcc
$Sheet
S 4900 650  1000 1850
U 5DD83A85
F0 "Buffers16" 50
F1 "buffers16.sch" 50
F2 "BB1" O L 4900 900 50 
F3 "BB2" O L 4900 1000 50 
F4 "BB3" O L 4900 1100 50 
F5 "BB4" O L 4900 1200 50 
F6 "BB5" O L 4900 1300 50 
F7 "BB6" O L 4900 1400 50 
F8 "BB7" O L 4900 1500 50 
F9 "BB8" O L 4900 1600 50 
F10 "BB9" O L 4900 1700 50 
F11 "BB10" O L 4900 1800 50 
F12 "BB11" O L 4900 1900 50 
F13 "BB12" O L 4900 2000 50 
F14 "BB13" O L 4900 2100 50 
F15 "BB14" O L 4900 2200 50 
F16 "BB15" O L 4900 2300 50 
F17 "BB16" O L 4900 2400 50 
F18 "B1" I R 5900 900 50 
F19 "B2" I R 5900 1000 50 
F20 "B3" I R 5900 1100 50 
F21 "B4" I R 5900 1200 50 
F22 "B5" I R 5900 1300 50 
F23 "B6" I R 5900 1400 50 
F24 "B7" I R 5900 1500 50 
F25 "B8" I R 5900 1600 50 
F26 "B9" I R 5900 1700 50 
F27 "B10" I R 5900 1800 50 
F28 "B11" I R 5900 1900 50 
F29 "B12" I R 5900 2000 50 
F30 "B13" I R 5900 2100 50 
F31 "B14" I R 5900 2200 50 
F32 "B15" I R 5900 2300 50 
F33 "B16" I R 5900 2400 50 
$EndSheet
$Sheet
S 6400 850  1000 1650
U 5DE334E4
F0 "voltageDivider16" 50
F1 "voltageDivider16.sch" 50
F2 "VBat1" I R 7400 900 50 
F3 "VBat2" I R 7400 1000 50 
F4 "VBat3" I R 7400 1100 50 
F5 "VBat4" I R 7400 1200 50 
F6 "VBat5" I R 7400 1300 50 
F7 "VBat6" I R 7400 1400 50 
F8 "VBat7" I R 7400 1500 50 
F9 "VBat8" I R 7400 1600 50 
F10 "VBat9" I R 7400 1700 50 
F11 "VBat10" I R 7400 1800 50 
F12 "VBat11" I R 7400 1900 50 
F13 "VBat12" I R 7400 2000 50 
F14 "VBat13" I R 7400 2100 50 
F15 "VBat14" I R 7400 2200 50 
F16 "VBat15" I R 7400 2300 50 
F17 "VBat16" I R 7400 2400 50 
F18 "VDBat1" O L 6400 900 50 
F19 "VDBat2" O L 6400 1000 50 
F20 "VDBat3" O L 6400 1100 50 
F21 "VDBat4" O L 6400 1200 50 
F22 "VDBat5" O L 6400 1300 50 
F23 "VDBat6" O L 6400 1400 50 
F24 "VDBat7" O L 6400 1500 50 
F25 "VDBat8" O L 6400 1600 50 
F26 "VDBat9" O L 6400 1700 50 
F27 "VDBat10" O L 6400 1800 50 
F28 "VDBat11" O L 6400 1900 50 
F29 "VDBat12" O L 6400 2000 50 
F30 "VDBat13" O L 6400 2100 50 
F31 "VDBat14" O L 6400 2200 50 
F32 "VDBat15" O L 6400 2300 50 
F33 "VDBat16" O L 6400 2400 50 
$EndSheet
Wire Wire Line
	6400 900  5900 900 
Wire Wire Line
	6400 1000 5900 1000
Wire Wire Line
	6400 1100 5900 1100
Wire Wire Line
	6400 1200 5900 1200
Wire Wire Line
	6400 1300 5900 1300
Wire Wire Line
	6400 1400 5900 1400
Wire Wire Line
	6400 1500 5900 1500
Wire Wire Line
	6400 1600 5900 1600
Wire Wire Line
	6400 1700 5900 1700
Wire Wire Line
	6400 1800 5900 1800
Wire Wire Line
	6400 1900 5900 1900
Wire Wire Line
	6400 2000 5900 2000
Wire Wire Line
	6400 2100 5900 2100
Wire Wire Line
	6400 2200 5900 2200
Wire Wire Line
	6400 2300 5900 2300
Wire Wire Line
	6400 2400 5900 2400
$Comp
L Interface_Expansion:PCF8574 U?
U 1 1 5DD1A83D
P 2550 1900
F 0 "U?" H 2650 2600 50  0000 C CNN
F 1 "PCF8574" H 2750 2500 50  0000 C CNN
F 2 "" H 2550 1900 50  0001 C CNN
F 3 "http://www.nxp.com/documents/data_sheet/PCF8574_PCF8574A.pdf" H 2550 1900 50  0001 C CNN
	1    2550 1900
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5DD103B9
P 4050 2700
F 0 "#PWR?" H 4050 2450 50  0001 C CNN
F 1 "GND" H 4055 2527 50  0000 C CNN
F 2 "" H 4050 2700 50  0001 C CNN
F 3 "" H 4050 2700 50  0001 C CNN
	1    4050 2700
	1    0    0    -1  
$EndComp
$Comp
L 74xx:CD74HC4067M U?
U 1 1 5DD45332
P 4050 1600
F 0 "U?" H 4200 2600 50  0000 C CNN
F 1 "CD74HC4067M" H 4400 2500 50  0000 C CNN
F 2 "Package_SO:SOIC-24W_7.5x15.4mm_P1.27mm" H 4950 600 50  0001 C CIN
F 3 "http://www.ti.com/lit/ds/symlink/cd74hc4067.pdf" H 3700 2450 50  0001 C CNN
	1    4050 1600
	1    0    0    -1  
$EndComp
Text Label 4050 600  2    50   ~ 0
Vcc
$Comp
L 74xx:CD74HC4067M U?
U 1 1 5DCFC5C9
P 4050 4050
F 0 "U?" H 4200 4950 50  0000 C CNN
F 1 "CD74HC4067M" H 4350 3050 50  0000 C CNN
F 2 "Package_SO:SOIC-24W_7.5x15.4mm_P1.27mm" H 4950 3050 50  0001 C CIN
F 3 "http://www.ti.com/lit/ds/symlink/cd74hc4067.pdf" H 3700 4900 50  0001 C CNN
	1    4050 4050
	1    0    0    -1  
$EndComp
$Comp
L Analog_ADC:ADS1115IDGS U?
U 1 1 5DCFB1DA
P 1400 3550
F 0 "U?" H 1300 4100 50  0000 C CNN
F 1 "ADS1115IDGS" H 1100 4000 50  0000 C CNN
F 2 "Package_SO:TSSOP-10_3x3mm_P0.5mm" H 1400 3050 50  0001 C CNN
F 3 "http://www.ti.com/lit/ds/symlink/ads1113.pdf" H 1350 2650 50  0001 C CNN
	1    1400 3550
	-1   0    0    -1  
$EndComp
Wire Wire Line
	1800 3450 1800 1100
Wire Wire Line
	3050 1900 3500 1900
Wire Wire Line
	3500 1900 3500 3950
Wire Wire Line
	3500 3950 3550 3950
Wire Wire Line
	3050 2000 3450 2000
Wire Wire Line
	3450 2000 3450 4050
Wire Wire Line
	3450 4050 3550 4050
Wire Wire Line
	3050 2100 3400 2100
Wire Wire Line
	3400 2100 3400 4150
Wire Wire Line
	3400 4150 3550 4150
Wire Wire Line
	3050 2200 3350 2200
Wire Wire Line
	3350 2200 3350 4250
Wire Wire Line
	3350 4250 3550 4250
Wire Wire Line
	2100 3550 1800 3550
$Comp
L Device:R R?
U 1 1 5DF06F1C
P 2550 3950
F 0 "R?" V 2650 3950 50  0000 C CNN
F 1 "40k" V 2450 3950 50  0000 C CNN
F 2 "" V 2480 3950 50  0001 C CNN
F 3 "~" H 2550 3950 50  0001 C CNN
	1    2550 3950
	0    1    1    0   
$EndComp
$Comp
L Device:R R?
U 1 1 5DF07BA0
P 2800 4250
F 0 "R?" H 2730 4204 50  0000 R CNN
F 1 "10k" H 2730 4295 50  0000 R CNN
F 2 "" V 2730 4250 50  0001 C CNN
F 3 "~" H 2800 4250 50  0001 C CNN
	1    2800 4250
	-1   0    0    1   
$EndComp
Wire Wire Line
	2700 3950 2800 3950
Wire Wire Line
	2800 3950 2800 3650
Wire Wire Line
	2800 3650 2700 3650
Wire Wire Line
	2800 3950 2800 4100
Connection ~ 2800 3950
Wire Wire Line
	2400 3950 2100 3950
Wire Wire Line
	2100 3950 2100 3550
$Comp
L power:GND #PWR?
U 1 1 5DF1ADDC
P 2800 4400
F 0 "#PWR?" H 2800 4150 50  0001 C CNN
F 1 "GND" H 2805 4227 50  0000 C CNN
F 2 "" H 2800 4400 50  0001 C CNN
F 3 "" H 2800 4400 50  0001 C CNN
	1    2800 4400
	1    0    0    -1  
$EndComp
Wire Wire Line
	3550 3550 2950 3550
Wire Wire Line
	2950 3550 2950 3450
Wire Wire Line
	2950 3450 2700 3450
$Sheet
S 4900 3200 1100 1800
U 5DF6B3E6
F0 "tempDivider16" 50
F1 "tempDivider16.sch" 50
F2 "VTemp1" O L 4900 3350 50 
F3 "VTemp2" O L 4900 3450 50 
F4 "VTemp3" O L 4900 3550 50 
F5 "VTemp4" O L 4900 3650 50 
F6 "VTemp5" O L 4900 3750 50 
F7 "VTemp6" O L 4900 3850 50 
F8 "VTemp7" O L 4900 3950 50 
F9 "VTemp8" O L 4900 4050 50 
F10 "VTemp9" O L 4900 4150 50 
F11 "VTemp10" O L 4900 4250 50 
F12 "VTemp11" O L 4900 4350 50 
F13 "VTemp12" O L 4900 4450 50 
F14 "VTemp13" O L 4900 4550 50 
F15 "VTemp14" O L 4900 4650 50 
F16 "VTemp15" O L 4900 4750 50 
F17 "VTemp16" O L 4900 4850 50 
F18 "NTCReturn1" I R 6000 3350 50 
F19 "NTCReturn2" I R 6000 3450 50 
F20 "NTCReturn3" I R 6000 3550 50 
F21 "NTCReturn4" I R 6000 3650 50 
F22 "NTCReturn5" I R 6000 3750 50 
F23 "NTCReturn6" I R 6000 3850 50 
F24 "NTCReturn7" I R 6000 3950 50 
F25 "NTCReturn8" I R 6000 4050 50 
F26 "NTCReturn9" I R 6000 4150 50 
F27 "NTCReturn10" I R 6000 4250 50 
F28 "NTCReturn11" I R 6000 4350 50 
F29 "NTCReturn12" I R 6000 4450 50 
F30 "NTCReturn13" I R 6000 4550 50 
F31 "NTCReturn14" I R 6000 4650 50 
F32 "NTCReturn15" I R 6000 4750 50 
F33 "NTCReturn16" I R 6000 4850 50 
$EndSheet
Wire Wire Line
	4900 3350 4550 3350
Wire Wire Line
	4900 3450 4550 3450
Wire Wire Line
	4900 3550 4550 3550
Wire Wire Line
	4900 3650 4550 3650
Wire Wire Line
	4900 3750 4550 3750
Wire Wire Line
	4900 3850 4550 3850
Wire Wire Line
	4900 3950 4550 3950
Wire Wire Line
	4900 4050 4550 4050
Wire Wire Line
	4900 4150 4550 4150
Wire Wire Line
	4900 4250 4550 4250
Wire Wire Line
	4900 4350 4550 4350
Wire Wire Line
	4900 4450 4550 4450
Wire Wire Line
	4900 4550 4550 4550
Wire Wire Line
	4900 4650 4550 4650
Wire Wire Line
	4900 4750 4550 4750
Wire Wire Line
	4900 4850 4550 4850
$Comp
L Connector_Generic:Conn_02x09_Top_Bottom J?
U 1 1 5E01D4A3
P 7950 1200
F 0 "J?" H 8000 1817 50  0000 C CNN
F 1 "Conn_02x09_Top_Bottom" H 8000 1726 50  0000 C CNN
F 2 "" H 7950 1200 50  0001 C CNN
F 3 "~" H 7950 1200 50  0001 C CNN
	1    7950 1200
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5E1386CA
P 4050 5150
F 0 "#PWR?" H 4050 4900 50  0001 C CNN
F 1 "GND" H 4200 5100 50  0000 C CNN
F 2 "" H 4050 5150 50  0001 C CNN
F 3 "" H 4050 5150 50  0001 C CNN
	1    4050 5150
	1    0    0    -1  
$EndComp
Wire Wire Line
	3550 1600 3050 1600
Wire Wire Line
	3550 1700 3050 1700
Wire Wire Line
	3550 1800 3050 1800
Wire Wire Line
	4550 900  4900 900 
Wire Wire Line
	4550 1000 4900 1000
Wire Wire Line
	4550 1100 4900 1100
Text Label 4050 3050 2    50   ~ 0
Vcc
Wire Wire Line
	4550 1200 4900 1200
Wire Wire Line
	4550 1300 4900 1300
Wire Wire Line
	4550 1400 4900 1400
Wire Wire Line
	4550 1500 4900 1500
Wire Wire Line
	4550 1600 4900 1600
Wire Wire Line
	4550 1700 4900 1700
Wire Wire Line
	4550 1800 4900 1800
Wire Wire Line
	4550 1900 4900 1900
Wire Wire Line
	4550 2000 4900 2000
Wire Wire Line
	4550 2100 4900 2100
Wire Wire Line
	4550 2200 4900 2200
Wire Wire Line
	4550 2300 4900 2300
Wire Wire Line
	4550 2400 4900 2400
$Comp
L Interface_Expansion:MCP23017_SP U?
U 1 1 5E219DD9
P 3900 6500
F 0 "U?" H 3750 7500 50  0000 C CNN
F 1 "MCP23017_SP" H 4200 7500 50  0000 C CNN
F 2 "Package_DIP:DIP-28_W7.62mm" H 4100 5500 50  0001 L CNN
F 3 "http://ww1.microchip.com/downloads/en/DeviceDoc/20001952C.pdf" H 4100 5400 50  0001 L CNN
	1    3900 6500
	1    0    0    -1  
$EndComp
Text Label 3900 5400 2    50   ~ 0
Vcc
$Comp
L power:GND #PWR?
U 1 1 5E226796
P 3900 7600
F 0 "#PWR?" H 3900 7350 50  0001 C CNN
F 1 "GND" H 3905 7427 50  0000 C CNN
F 2 "" H 3900 7600 50  0001 C CNN
F 3 "" H 3900 7600 50  0001 C CNN
	1    3900 7600
	1    0    0    -1  
$EndComp
Wire Wire Line
	4900 5700 4600 5700
Wire Wire Line
	4900 5800 4600 5800
Wire Wire Line
	4900 5900 4600 5900
Wire Wire Line
	4900 6000 4600 6000
Wire Wire Line
	4900 6100 4600 6100
Wire Wire Line
	4900 6200 4600 6200
Wire Wire Line
	4900 6300 4600 6300
Wire Wire Line
	4900 6400 4600 6400
Wire Wire Line
	4900 6600 4600 6600
Wire Wire Line
	4900 6700 4600 6700
Wire Wire Line
	4900 6800 4600 6800
Wire Wire Line
	4900 6900 4600 6900
Wire Wire Line
	4900 7000 4600 7000
Wire Wire Line
	4900 7100 4600 7100
Wire Wire Line
	4900 7200 4600 7200
Wire Wire Line
	4900 7300 4600 7300
$Sheet
S 4900 5600 1100 1800
U 5E227111
F0 "passiveBalance16" 50
F1 "passiveBalance16.sch" 50
F2 "Bal1" I L 4900 6600 50 
F3 "Bal2" I L 4900 6700 50 
F4 "Bal3" I L 4900 6800 50 
F5 "Bal4" I L 4900 6900 50 
F6 "Bal5" I L 4900 7000 50 
F7 "Bal6" I L 4900 7100 50 
F8 "Bal7" I L 4900 7200 50 
F9 "Bal8" I L 4900 7300 50 
F10 "Bal9" I L 4900 5700 50 
F11 "Bal10" I L 4900 5800 50 
F12 "Bal11" I L 4900 5900 50 
F13 "Bal12" I L 4900 6000 50 
F14 "Bal13" I L 4900 6100 50 
F15 "Bal14" I L 4900 6200 50 
F16 "Bal15" I L 4900 6300 50 
F17 "Bal16" I L 4900 6400 50 
F18 "BCell1" I R 6000 5800 50 
F19 "BCell2" I R 6000 5900 50 
F20 "BCell3" I R 6000 6000 50 
F21 "BCell4" I R 6000 6100 50 
F22 "BCell5" I R 6000 6200 50 
F23 "BCell6" I R 6000 6300 50 
F24 "BCell7" I R 6000 6400 50 
F25 "BCell8" I R 6000 6500 50 
F26 "BCell9" I R 6000 6600 50 
F27 "BCell10" I R 6000 6700 50 
F28 "BCell11" I R 6000 6800 50 
F29 "BCell12" I R 6000 6900 50 
F30 "BCell13" I R 6000 7000 50 
F31 "BCell14" I R 6000 7100 50 
F32 "BCell15" I R 6000 7200 50 
F33 "BCell16" I R 6000 7300 50 
F34 "BCellGND" I R 6000 5700 50 
$EndSheet
Wire Wire Line
	7750 900  7400 900 
$Comp
L power:GND #PWR?
U 1 1 5E30EEB2
P 7700 800
F 0 "#PWR?" H 7700 550 50  0001 C CNN
F 1 "GND" H 7705 627 50  0000 C CNN
F 2 "" H 7700 800 50  0001 C CNN
F 3 "" H 7700 800 50  0001 C CNN
	1    7700 800 
	0    1    1    0   
$EndComp
Wire Wire Line
	7750 800  7700 800 
Wire Wire Line
	7750 1000 7400 1000
Wire Wire Line
	7750 1100 7400 1100
Wire Wire Line
	7750 1200 7400 1200
Wire Wire Line
	7750 1300 7400 1300
Wire Wire Line
	7750 1400 7400 1400
Wire Wire Line
	7750 1500 7400 1500
Wire Wire Line
	7750 1600 7400 1600
Wire Wire Line
	8250 800  8300 800 
Wire Wire Line
	8300 800  8300 1700
Wire Wire Line
	8300 1700 7400 1700
Wire Wire Line
	8250 900  8350 900 
Wire Wire Line
	8350 900  8350 1800
Wire Wire Line
	8350 1800 7400 1800
Wire Wire Line
	8250 1000 8400 1000
Wire Wire Line
	8400 1000 8400 1900
Wire Wire Line
	8400 1900 7400 1900
Wire Wire Line
	8250 1100 8450 1100
Wire Wire Line
	8450 1100 8450 2000
Wire Wire Line
	8450 2000 7400 2000
Wire Wire Line
	8250 1200 8500 1200
Wire Wire Line
	8500 1200 8500 2100
Wire Wire Line
	8500 2100 7400 2100
Wire Wire Line
	8250 1300 8550 1300
Wire Wire Line
	8550 1300 8550 2200
Wire Wire Line
	8550 2200 7400 2200
Wire Wire Line
	8250 1400 8600 1400
Wire Wire Line
	8600 1400 8600 2300
Wire Wire Line
	8600 2300 7400 2300
Wire Wire Line
	8250 1500 8650 1500
Wire Wire Line
	8650 1500 8650 2400
Wire Wire Line
	8650 2400 7400 2400
Wire Wire Line
	6350 3350 6000 3350
Wire Wire Line
	6350 3450 6000 3450
Wire Wire Line
	6350 3550 6000 3550
Wire Wire Line
	6350 3650 6000 3650
Wire Wire Line
	6350 3750 6000 3750
Wire Wire Line
	6350 3850 6000 3850
Wire Wire Line
	6350 3950 6000 3950
Wire Wire Line
	6350 4050 6000 4050
$Comp
L Connector_Generic:Conn_02x09_Top_Bottom J?
U 1 1 5E002239
P 6550 3650
F 0 "J?" H 6600 4267 50  0000 C CNN
F 1 "Conn_02x09_Top_Bottom" H 6600 4176 50  0000 C CNN
F 2 "" H 6550 3650 50  0001 C CNN
F 3 "~" H 6550 3650 50  0001 C CNN
	1    6550 3650
	1    0    0    -1  
$EndComp
NoConn ~ 6350 3250
Wire Wire Line
	6850 3250 6900 3250
Wire Wire Line
	6900 3250 6900 4150
Wire Wire Line
	6900 4150 6000 4150
Wire Wire Line
	6850 3350 6950 3350
Wire Wire Line
	6950 3350 6950 4250
Wire Wire Line
	6950 4250 6000 4250
Wire Wire Line
	6850 3450 7000 3450
Wire Wire Line
	7000 3450 7000 4350
Wire Wire Line
	7000 4350 6000 4350
Wire Wire Line
	6850 3550 7050 3550
Wire Wire Line
	7050 3550 7050 4450
Wire Wire Line
	7050 4450 6000 4450
Wire Wire Line
	6850 3650 7100 3650
Wire Wire Line
	7100 3650 7100 4550
Wire Wire Line
	7100 4550 6000 4550
Wire Wire Line
	6850 3750 7150 3750
Wire Wire Line
	7150 3750 7150 4650
Wire Wire Line
	7150 4650 6000 4650
Wire Wire Line
	6850 3850 7200 3850
Wire Wire Line
	7200 3850 7200 4750
Wire Wire Line
	7200 4750 6000 4750
Wire Wire Line
	6850 3950 7250 3950
Wire Wire Line
	7250 3950 7250 4850
Wire Wire Line
	7250 4850 6000 4850
Text Label 7350 4050 0    50   ~ 0
Vcc
Wire Wire Line
	7350 4050 6850 4050
NoConn ~ 8250 1600
$Comp
L Connector_Generic:Conn_02x09_Top_Bottom J?
U 1 1 5E3FADC1
P 6550 6100
F 0 "J?" H 6600 6717 50  0000 C CNN
F 1 "Conn_02x09_Top_Bottom" H 6900 6600 50  0000 C CNN
F 2 "" H 6550 6100 50  0001 C CNN
F 3 "~" H 6550 6100 50  0001 C CNN
	1    6550 6100
	1    0    0    -1  
$EndComp
Wire Wire Line
	6350 5700 6150 5700
$Comp
L power:GND #PWR?
U 1 1 5E40A15D
P 6150 5600
F 0 "#PWR?" H 6150 5350 50  0001 C CNN
F 1 "GND" H 6155 5427 50  0000 C CNN
F 2 "" H 6150 5600 50  0001 C CNN
F 3 "" H 6150 5600 50  0001 C CNN
	1    6150 5600
	-1   0    0    1   
$EndComp
Wire Wire Line
	6150 5600 6150 5700
Connection ~ 6150 5700
Wire Wire Line
	6150 5700 6000 5700
Wire Wire Line
	6350 5800 6000 5800
Wire Wire Line
	6350 5900 6300 5900
Wire Wire Line
	6350 6000 6000 6000
Wire Wire Line
	6350 6100 6000 6100
Wire Wire Line
	6350 6200 6000 6200
Wire Wire Line
	6350 6300 6000 6300
Wire Wire Line
	6350 6400 6000 6400
Wire Wire Line
	6350 6500 6000 6500
Wire Wire Line
	6850 5700 6900 5700
Wire Wire Line
	6900 5700 6900 6600
Wire Wire Line
	6900 6600 6000 6600
Wire Wire Line
	6850 5800 6950 5800
Wire Wire Line
	6950 5800 6950 6700
Wire Wire Line
	6950 6700 6000 6700
Wire Wire Line
	6850 5900 7000 5900
Wire Wire Line
	7000 5900 7000 6800
Wire Wire Line
	7000 6800 6000 6800
Wire Wire Line
	6850 6000 7050 6000
Wire Wire Line
	7050 6000 7050 6900
Wire Wire Line
	7050 6900 6000 6900
Wire Wire Line
	6850 6100 7100 6100
Wire Wire Line
	7100 6100 7100 7000
Wire Wire Line
	7100 7000 6000 7000
Wire Wire Line
	6850 6200 7150 6200
Wire Wire Line
	7150 6200 7150 7100
Wire Wire Line
	7150 7100 6000 7100
Wire Wire Line
	6850 6300 7200 6300
Wire Wire Line
	7200 6300 7200 7200
Wire Wire Line
	7200 7200 6000 7200
Wire Wire Line
	6850 6400 7250 6400
Wire Wire Line
	7250 6400 7250 7300
Wire Wire Line
	7250 7300 6000 7300
NoConn ~ 6850 6500
$Comp
L power:GND #PWR?
U 1 1 5E58717E
P 7900 6100
F 0 "#PWR?" H 7900 5850 50  0001 C CNN
F 1 "GND" H 7905 5927 50  0000 C CNN
F 2 "" H 7900 6100 50  0001 C CNN
F 3 "" H 7900 6100 50  0001 C CNN
	1    7900 6100
	1    0    0    -1  
$EndComp
Wire Wire Line
	8250 5700 8200 5700
Wire Wire Line
	7900 6100 7900 6000
Wire Wire Line
	7600 5700 7550 5700
Wire Wire Line
	7550 5700 7550 5450
Wire Wire Line
	7550 5450 6300 5450
Wire Wire Line
	6300 5450 6300 5900
Connection ~ 6300 5900
Wire Wire Line
	6300 5900 6000 5900
Text Label 2550 750  2    50   ~ 0
Vcc
$Comp
L power:GND #PWR?
U 1 1 5E5AF40B
P 2550 2600
F 0 "#PWR?" H 2550 2350 50  0001 C CNN
F 1 "GND" H 2555 2427 50  0000 C CNN
F 2 "" H 2550 2600 50  0001 C CNN
F 3 "" H 2550 2600 50  0001 C CNN
	1    2550 2600
	1    0    0    -1  
$EndComp
Wire Notes Line
	3050 7800 6900 7800
Wire Notes Line
	6900 7800 6900 7350
Wire Notes Line
	6900 7350 7400 7350
Wire Notes Line
	7400 7350 7400 5300
Wire Notes Line
	3050 5300 3050 7800
Wire Notes Line
	7650 2950 7650 5300
Wire Notes Line
	3250 500  8700 500 
Wire Notes Line
	8700 500  8700 2950
Wire Notes Line
	3250 500  3250 5300
Wire Notes Line
	3250 2950 8700 2950
Text Notes 8150 2950 0    50   Italic 10
Voltage Sense
Text Notes 6900 5300 0    50   Italic 10
Temperature Sense
Text Notes 6350 7800 0    50   Italic 10
Cell Balancing
Wire Wire Line
	3550 1500 3050 1500
Wire Wire Line
	3550 1100 1800 1100
Wire Notes Line
	3050 5300 7650 5300
$Comp
L Amplifier_Operational:MCP6004 U?
U 1 1 5E65A50C
P 2400 3550
F 0 "U?" H 2400 3917 50  0000 C CNN
F 1 "MCP6004" H 2400 3826 50  0000 C CNN
F 2 "" H 2350 3650 50  0001 C CNN
F 3 "http://ww1.microchip.com/downloads/en/DeviceDoc/21733j.pdf" H 2450 3750 50  0001 C CNN
	1    2400 3550
	-1   0    0    -1  
$EndComp
Connection ~ 2100 3550
$Comp
L Amplifier_Operational:MCP6004 U?
U 5 1 5E65C345
P 1650 7300
F 0 "U?" V 1325 7300 50  0000 C CNN
F 1 "MCP6004" V 1416 7300 50  0000 C CNN
F 2 "" H 1600 7400 50  0001 C CNN
F 3 "http://ww1.microchip.com/downloads/en/DeviceDoc/21733j.pdf" H 1700 7500 50  0001 C CNN
	5    1650 7300
	0    1    1    0   
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5E65EC52
P 1350 7200
F 0 "#PWR?" H 1350 6950 50  0001 C CNN
F 1 "GND" H 1355 7027 50  0000 C CNN
F 2 "" H 1350 7200 50  0001 C CNN
F 3 "" H 1350 7200 50  0001 C CNN
	1    1350 7200
	1    0    0    -1  
$EndComp
Text Notes 1800 4250 0    50   ~ 0
Swing: 0.3-4.7v\nTemp: -5-55ÂºC\nLower voltage = Hotter
$Comp
L Amplifier_Operational:MCP6004 U?
U 2 1 5E67DF18
P 1750 4850
F 0 "U?" H 1750 5217 50  0000 C CNN
F 1 "MCP6004" H 1750 5126 50  0000 C CNN
F 2 "" H 1700 4950 50  0001 C CNN
F 3 "http://ww1.microchip.com/downloads/en/DeviceDoc/21733j.pdf" H 1800 5050 50  0001 C CNN
	2    1750 4850
	-1   0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 5E680338
P 1850 5300
F 0 "R?" V 1950 5300 50  0000 C CNN
F 1 "590k" V 1750 5300 50  0000 C CNN
F 2 "" V 1780 5300 50  0001 C CNN
F 3 "~" H 1850 5300 50  0001 C CNN
	1    1850 5300
	0    1    1    0   
$EndComp
$Comp
L Device:R R?
U 1 1 5E680950
P 2200 5550
F 0 "R?" H 2130 5504 50  0000 R CNN
F 1 "10k" H 2130 5595 50  0000 R CNN
F 2 "" V 2130 5550 50  0001 C CNN
F 3 "~" H 2200 5550 50  0001 C CNN
	1    2200 5550
	-1   0    0    1   
$EndComp
Wire Wire Line
	1450 4850 1350 4850
Wire Wire Line
	2200 5400 2200 5300
Wire Wire Line
	2200 5300 2000 5300
Wire Wire Line
	2200 5300 2200 4950
Wire Wire Line
	2200 4950 2050 4950
Connection ~ 2200 5300
Wire Wire Line
	1700 5300 1350 5300
Wire Wire Line
	1350 5300 1350 4850
$Comp
L Connector_Generic:Conn_01x02 J?
U 1 1 5E72995C
P 2500 4750
F 0 "J?" H 2580 4742 50  0000 L CNN
F 1 "Conn_01x02" H 2580 4651 50  0000 L CNN
F 2 "" H 2500 4750 50  0001 C CNN
F 3 "~" H 2500 4750 50  0001 C CNN
	1    2500 4750
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5E72AE72
P 2300 4850
F 0 "#PWR?" H 2300 4600 50  0001 C CNN
F 1 "GND" H 2305 4677 50  0000 C CNN
F 2 "" H 2300 4850 50  0001 C CNN
F 3 "" H 2300 4850 50  0001 C CNN
	1    2300 4850
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5E73A666
P 2200 5700
F 0 "#PWR?" H 2200 5450 50  0001 C CNN
F 1 "GND" H 2205 5527 50  0000 C CNN
F 2 "" H 2200 5700 50  0001 C CNN
F 3 "" H 2200 5700 50  0001 C CNN
	1    2200 5700
	1    0    0    -1  
$EndComp
$Comp
L Amplifier_Operational:MCP6004 U?
U 2 1 5E75B1E7
P 1700 6250
F 0 "U?" H 1650 6600 50  0000 C CNN
F 1 "MCP6004" H 1550 6500 50  0000 C CNN
F 2 "" H 1650 6350 50  0001 C CNN
F 3 "http://ww1.microchip.com/downloads/en/DeviceDoc/21733j.pdf" H 1750 6450 50  0001 C CNN
	2    1700 6250
	-1   0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 5E75B1F1
P 1800 6700
F 0 "R?" V 1900 6700 50  0000 C CNN
F 1 "590k" V 1700 6700 50  0000 C CNN
F 2 "" V 1730 6700 50  0001 C CNN
F 3 "~" H 1800 6700 50  0001 C CNN
	1    1800 6700
	0    1    1    0   
$EndComp
$Comp
L Device:R R?
U 1 1 5E75B1FB
P 2300 6950
F 0 "R?" H 2230 6904 50  0000 R CNN
F 1 "10k" H 2230 6995 50  0000 R CNN
F 2 "" V 2230 6950 50  0001 C CNN
F 3 "~" H 2300 6950 50  0001 C CNN
	1    2300 6950
	-1   0    0    1   
$EndComp
Wire Wire Line
	1400 6250 1300 6250
Wire Wire Line
	2150 6700 1950 6700
Wire Wire Line
	2150 6700 2150 6350
Wire Wire Line
	2150 6350 2000 6350
Connection ~ 2150 6700
Wire Wire Line
	1650 6700 1300 6700
Wire Wire Line
	1300 6700 1300 6250
$Comp
L Connector_Generic:Conn_01x02 J?
U 1 1 5E75B20F
P 2500 6150
F 0 "J?" H 2580 6142 50  0000 L CNN
F 1 "Conn_01x02" H 2580 6051 50  0000 L CNN
F 2 "" H 2500 6150 50  0001 C CNN
F 3 "~" H 2500 6150 50  0001 C CNN
	1    2500 6150
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5E75B219
P 2300 6250
F 0 "#PWR?" H 2300 6000 50  0001 C CNN
F 1 "GND" H 2305 6077 50  0000 C CNN
F 2 "" H 2300 6250 50  0001 C CNN
F 3 "" H 2300 6250 50  0001 C CNN
	1    2300 6250
	1    0    0    -1  
$EndComp
Wire Wire Line
	2300 6150 2000 6150
$Comp
L power:GND #PWR?
U 1 1 5E75B224
P 2300 7100
F 0 "#PWR?" H 2300 6850 50  0001 C CNN
F 1 "GND" H 2305 6927 50  0000 C CNN
F 2 "" H 2300 7100 50  0001 C CNN
F 3 "" H 2300 7100 50  0001 C CNN
	1    2300 7100
	1    0    0    -1  
$EndComp
Connection ~ 1300 6250
Text Label 1950 7200 0    50   ~ 0
Vcc
Wire Wire Line
	2300 4750 2050 4750
Wire Wire Line
	1300 4300 1550 4300
Wire Wire Line
	1550 4300 1550 3900
Wire Wire Line
	1550 3900 1800 3900
Wire Wire Line
	1800 3900 1800 3750
Wire Wire Line
	1300 4300 1300 6250
Wire Wire Line
	1350 4850 1350 4350
Wire Wire Line
	1350 4350 1600 4350
Wire Wire Line
	1600 4350 1600 3950
Wire Wire Line
	1600 3950 1850 3950
Wire Wire Line
	1850 3950 1850 3650
Wire Wire Line
	1850 3650 1800 3650
Connection ~ 1350 4850
$Comp
L power:GND #PWR?
U 1 1 5E7EE0C2
P 1400 3950
F 0 "#PWR?" H 1400 3700 50  0001 C CNN
F 1 "GND" H 1405 3777 50  0000 C CNN
F 2 "" H 1400 3950 50  0001 C CNN
F 3 "" H 1400 3950 50  0001 C CNN
	1    1400 3950
	1    0    0    -1  
$EndComp
Text Label 1400 2600 2    50   ~ 0
Vcc
Wire Notes Line
	1250 4400 2700 4400
Wire Notes Line
	2700 4400 2700 4650
Wire Notes Line
	2700 4650 3250 4650
Wire Notes Line
	1250 4400 1250 7750
Wire Notes Line
	1250 7750 3050 7750
Text Notes 3050 7750 2    50   Italic 10
Current Sense Amplifier Stage\nCharge & Discharge
Text Notes 2450 5000 0    50   ~ 0
to external shunt
Text Notes 2350 6050 0    50   ~ 0
to external shunt
Wire Wire Line
	2150 6700 2300 6700
Wire Wire Line
	2300 6700 2300 6800
$Comp
L Device:C C?
U 1 1 5DE2F865
P 1950 7350
F 0 "C?" H 2065 7396 50  0000 L CNN
F 1 "0.01uF" H 2065 7305 50  0000 L CNN
F 2 "" H 1988 7200 50  0001 C CNN
F 3 "~" H 1950 7350 50  0001 C CNN
	1    1950 7350
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5DE302D4
P 1950 7500
F 0 "#PWR?" H 1950 7250 50  0001 C CNN
F 1 "GND" H 1800 7450 50  0000 C CNN
F 2 "" H 1950 7500 50  0001 C CNN
F 3 "" H 1950 7500 50  0001 C CNN
	1    1950 7500
	1    0    0    -1  
$EndComp
$Comp
L Device:C C?
U 1 1 5DE31318
P 2300 1000
F 0 "C?" H 2500 1050 50  0000 R CNN
F 1 "0.01uF" H 2650 950 50  0000 R CNN
F 2 "" H 2338 850 50  0001 C CNN
F 3 "~" H 2300 1000 50  0001 C CNN
	1    2300 1000
	-1   0    0    -1  
$EndComp
Wire Wire Line
	1150 2700 1400 2700
Wire Wire Line
	1400 2700 1400 3050
Wire Wire Line
	1400 2600 1400 2700
Connection ~ 1400 2700
$Comp
L power:GND #PWR?
U 1 1 5DE6A46C
P 1150 3000
F 0 "#PWR?" H 1150 2750 50  0001 C CNN
F 1 "GND" H 1000 2950 50  0000 C CNN
F 2 "" H 1150 3000 50  0001 C CNN
F 3 "" H 1150 3000 50  0001 C CNN
	1    1150 3000
	1    0    0    -1  
$EndComp
$Comp
L Device:C C?
U 1 1 5DE6C069
P 1150 2850
F 0 "C?" H 1350 2900 50  0000 R CNN
F 1 "0.01uF" H 1500 2800 50  0000 R CNN
F 2 "" H 1188 2700 50  0001 C CNN
F 3 "~" H 1150 2850 50  0001 C CNN
	1    1150 2850
	-1   0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5DE6C596
P 2300 1150
F 0 "#PWR?" H 2300 900 50  0001 C CNN
F 1 "GND" H 2150 1100 50  0000 C CNN
F 2 "" H 2300 1150 50  0001 C CNN
F 3 "" H 2300 1150 50  0001 C CNN
	1    2300 1150
	1    0    0    -1  
$EndComp
Wire Wire Line
	2550 750  2550 850 
Wire Wire Line
	2300 850  2550 850 
Connection ~ 2550 850 
Wire Wire Line
	2550 850  2550 1200
$Comp
L Device:C C?
U 1 1 5DEBA54F
P 3600 750
F 0 "C?" H 3800 800 50  0000 R CNN
F 1 "0.01uF" H 3950 700 50  0000 R CNN
F 2 "" H 3638 600 50  0001 C CNN
F 3 "~" H 3600 750 50  0001 C CNN
	1    3600 750 
	-1   0    0    -1  
$EndComp
Wire Wire Line
	3600 600  4050 600 
$Comp
L power:GND #PWR?
U 1 1 5DEBAAA4
P 3600 900
F 0 "#PWR?" H 3600 650 50  0001 C CNN
F 1 "GND" H 3450 850 50  0000 C CNN
F 2 "" H 3600 900 50  0001 C CNN
F 3 "" H 3600 900 50  0001 C CNN
	1    3600 900 
	1    0    0    -1  
$EndComp
$Comp
L Device:C C?
U 1 1 5DEBB904
P 3600 5000
F 0 "C?" H 3800 5050 50  0000 R CNN
F 1 "0.01uF" H 3950 4950 50  0000 R CNN
F 2 "" H 3638 4850 50  0001 C CNN
F 3 "~" H 3600 5000 50  0001 C CNN
	1    3600 5000
	-1   0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5DEBC36E
P 3600 5150
F 0 "#PWR?" H 3600 4900 50  0001 C CNN
F 1 "GND" H 3750 5100 50  0000 C CNN
F 2 "" H 3600 5150 50  0001 C CNN
F 3 "" H 3600 5150 50  0001 C CNN
	1    3600 5150
	1    0    0    -1  
$EndComp
Text Label 3600 4850 2    50   ~ 0
Vcc
$Comp
L Device:C C?
U 1 1 5DEBD23C
P 3500 5400
F 0 "C?" V 3550 5350 50  0000 R CNN
F 1 "0.01uF" V 3350 5500 50  0000 R CNN
F 2 "" H 3538 5250 50  0001 C CNN
F 3 "~" H 3500 5400 50  0001 C CNN
	1    3500 5400
	0    1    -1   0   
$EndComp
Wire Wire Line
	3650 5400 3900 5400
$Comp
L power:GND #PWR?
U 1 1 5DED1951
P 3250 5400
F 0 "#PWR?" H 3250 5150 50  0001 C CNN
F 1 "GND" H 3150 5300 50  0000 C CNN
F 2 "" H 3250 5400 50  0001 C CNN
F 3 "" H 3250 5400 50  0001 C CNN
	1    3250 5400
	1    0    0    -1  
$EndComp
Wire Wire Line
	3250 5400 3350 5400
$Comp
L Device:C C?
U 1 1 5DEFA0BA
P 8200 5950
F 0 "C?" H 8400 6000 50  0000 R CNN
F 1 "0.1uF" H 8500 5900 50  0000 R CNN
F 2 "" H 8238 5800 50  0001 C CNN
F 3 "~" H 8200 5950 50  0001 C CNN
	1    8200 5950
	1    0    0    -1  
$EndComp
Wire Wire Line
	8200 6100 7900 6100
Connection ~ 7900 6100
Wire Wire Line
	8200 5800 8200 5700
Connection ~ 8200 5700
$Comp
L Device:C C?
U 1 1 5DF23D9B
P 7600 5950
F 0 "C?" H 7750 5850 50  0000 R CNN
F 1 "0.33uF" H 7750 5750 50  0000 R CNN
F 2 "" H 7638 5800 50  0001 C CNN
F 3 "~" H 7600 5950 50  0001 C CNN
	1    7600 5950
	-1   0    0    -1  
$EndComp
Wire Wire Line
	7600 5800 7600 5700
Connection ~ 7600 5700
Wire Wire Line
	7600 6100 7900 6100
$Comp
L ESP32-DEVKITC:ESP32-DEVKITC U?
U 1 1 5DF6DDD1
P 9850 4250
F 0 "U?" H 9850 5717 50  0000 C CNN
F 1 "ESP32-DEVKITC" H 9850 5626 50  0000 C CNN
F 2 "XCVR_ESP32-DEVKITC" H 9850 4250 50  0001 L BNN
F 3 "Module: development kit; Ciphering: AES, WPA, WPA2-PSK, WPS" H 9850 4250 50  0001 L BNN
F 4 "ESP32-DEVKITC" H 9850 4250 50  0001 L BNN "Field4"
F 5 "None" H 9850 4250 50  0001 L BNN "Field5"
F 6 "Unavailable" H 9850 4250 50  0001 L BNN "Field6"
F 7 "Olimex LTD" H 9850 4250 50  0001 L BNN "Field7"
F 8 "None" H 9850 4250 50  0001 L BNN "Field8"
	1    9850 4250
	1    0    0    -1  
$EndComp
$EndSCHEMATC
